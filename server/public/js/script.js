(()=>{var v="/api/v1/convert",y={ARS:"Pesos Argentinos",VES:"Bol\xEDvares Venezolanos"};function S(e,t,r){return`${v}/${e}/${t}/${r}`}function l(e){return parseFloat(e.toFixed(5))}async function i(e,t="ARS",r="VES"){let n=await(await fetch(S(e,t,r))).json();return n.error?(console.error(n.message),alert("Ha ocurrido un error. Por favor, intente de nuevo m\xE1s tarde."),null):l(n.result)}async function d(){let e=document.querySelector(".from_currency").value,t=document.querySelector(".to_currency").value,r=await i(1,e,t);document.querySelector("#rate-details").innerHTML=`<p>1 ${e} = ${l(r)} ${t}</p><p>1 ${t} = ${l(1/r)} ${e}</p>`}function q(){let e=document.querySelector(".from_currency").value,t=document.querySelector(".to_currency").value;document.querySelector(".from_currency").value=t,document.querySelector(".to_currency").value=e}function p(){let e=document.querySelector(".from_amount").value,t=document.querySelector(".to_amount").value;document.querySelector(".from_amount").value=t,document.querySelector(".to_amount").value=e}async function w({reversed:e}){let t=e?".to_currency":".from_currency",r=e?".from_currency":".to_currency",c=e?".to_amount":".from_amount",n=e?".from_amount":".to_amount",o=document.querySelector(c).value,a=document.querySelector(t).value,m=document.querySelector(r).value;if(!o)return;let s=await i(o,a,m);document.querySelector(n).value=s}async function u({reversed:e}={}){w({reversed:e}),d()}async function A(){q(),p(),d()}function $(){document.querySelectorAll(".calculator").forEach(e=>{e.querySelector(".from_amount").addEventListener("input",async()=>{await u()}),e.querySelector(".to_amount").addEventListener("input",async()=>{await u({reversed:!0})}),e.querySelector(".calculator__switch").addEventListener("click",t=>{t.preventDefault(),A()}),e.querySelector(".from_currency").addEventListener("change",async()=>{await u()}),e.querySelector(".to_currency").addEventListener("change",async()=>{await u({reversed:!0})}),e.querySelector(".calculator__form").addEventListener("submit",async t=>{t.preventDefault();let r=new FormData(t.target),c=r.get("fromAmount"),n=r.get("toAmount"),o=r.get("fromCurrency"),a=r.get("toCurrency"),m=y[o],s=y[a],_=`https://wa.me/541127226635?text=${`Hola me gustar\xEDa hacer un cambio: %0A${c} ${o}(${m})%0Aa ${n} ${a}(${s})`}`;window.open(_,"_blank")}),u()})}var f={init:$};window.addEventListener("load",()=>{f.init()});})();
//# sourceMappingURL=script.js.map
