{
  "version": 3,
  "sources": ["../../../client/js/components/calculator.js", "../../../client/js/app.mjs"],
  "sourcesContent": ["const SERVER_PATH = '/api/v1/convert';\n\nconst currencyHumanName = {\n  ARS: 'Pesos Argentinos',\n  VES: 'Bol\u00EDvares Venezolanos',\n};\n\nfunction getRequestUrl(amount, from, to) {\n  return `${SERVER_PATH}/${amount}/${from}/${to}`;\n}\n\nfunction round(value) {\n  return parseFloat(value.toFixed(5));\n}\n\nasync function convert(amount, from = 'ARS', to = 'VES') {\n  const response = await fetch(getRequestUrl(amount, from, to));\n  const data = await response.json();\n\n  if (data.error) {\n    console.error(data.message);\n    alert('Ha ocurrido un error. Por favor, intente de nuevo m\u00E1s tarde.');\n    return null;\n  }\n\n  return round(data.result);\n}\n\nasync function updateRateDetails() {\n  const fromCurrency = document.querySelector('.from_currency').value;\n  const toCurrency = document.querySelector('.to_currency').value;\n\n  const rate = await convert(1, fromCurrency, toCurrency);\n  document.querySelector('#rate-details').innerHTML = `<p>1 ${fromCurrency} = ${round(rate)} ${toCurrency}</p><p>1 ${toCurrency} = ${round(1 / rate)} ${fromCurrency}</p>`;\n}\n\nfunction switchCurrencies() {\n  const from = document.querySelector('.from_currency').value;\n  const to = document.querySelector('.to_currency').value;\n  document.querySelector('.from_currency').value = to;\n  document.querySelector('.to_currency').value = from;\n}\n\nfunction switchAmounts() {\n  const fromAmount = document.querySelector('.from_amount').value;\n  const toAmount = document.querySelector('.to_amount').value;\n  document.querySelector('.from_amount').value = toAmount;\n  document.querySelector('.to_amount').value = fromAmount;\n}\n\nasync function updateAmounts({ reversed }) {\n  const fromCurrencyElementId = reversed ? '.to_currency' : '.from_currency';\n  const toCurrencyElementId = reversed ? '.from_currency' : '.to_currency';\n  const fromAmountElementId = reversed ? '.to_amount' : '.from_amount';\n  const toAmountElementId = reversed ? '.from_amount' : '.to_amount';\n\n  const amount = document.querySelector(fromAmountElementId).value;\n  const fromCurrency = document.querySelector(fromCurrencyElementId).value;\n  const toCurrency = document.querySelector(toCurrencyElementId).value;\n\n  if (!amount) return;\n\n  const result = await convert(amount, fromCurrency, toCurrency);\n  document.querySelector(toAmountElementId).value = result;\n}\n\nasync function updateCalculator({ reversed } = {}) {\n  updateAmounts({ reversed });\n  updateRateDetails();\n}\n\nasync function switchCalculator() {\n  switchCurrencies();\n  switchAmounts();\n  updateRateDetails();\n}\n\nfunction init() {\n  document.querySelectorAll('.calculator').forEach((calculator) => {\n    calculator.querySelector('.from_amount').addEventListener('input', async () => {\n      await updateCalculator();\n    });\n\n    calculator.querySelector('.to_amount').addEventListener('input', async () => {\n      await updateCalculator({ reversed: true });\n    });\n\n    calculator.querySelector('.calculator__switch').addEventListener('click', (event) => {\n      event.preventDefault();\n      switchCalculator();\n    });\n\n    calculator.querySelector('.from_currency').addEventListener('change', async () => {\n      await updateCalculator();\n    });\n\n    calculator.querySelector('.to_currency').addEventListener('change', async () => {\n      await updateCalculator({ reversed: true });\n    });\n\n    calculator.querySelector('.calculator__form').addEventListener('submit', async (event) => {\n      event.preventDefault();\n\n      const data = new FormData(event.target);\n      const fromAmount = data.get('fromAmount');\n      const toAmount = data.get('toAmount');\n      const fromCurrency = data.get('fromCurrency');\n      const toCurrency = data.get('toCurrency');\n      const fromCurrencyHuman = currencyHumanName[fromCurrency];\n      const toCurrencyHuman = currencyHumanName[toCurrency];\n      const requestText = 'Hola me gustar\u00EDa hacer un cambio: '\n                          + `%0A${fromAmount} ${fromCurrency}(${fromCurrencyHuman})%0A`\n                          + `a ${toAmount} ${toCurrency}(${toCurrencyHuman})`;\n      const requestUrl = `https://wa.me/541127226635?text=${requestText}`;\n\n      window.open(requestUrl, '_blank');\n    });\n    updateCalculator();\n  });\n}\n\nexport default { init };\n", "import calculator from './components/calculator.js';\n\nwindow.addEventListener('load', () => {\n  calculator.init();\n});\n"],
  "mappings": "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",
  "names": ["SERVER_PATH", "currencyHumanName", "getRequestUrl", "amount", "from", "to", "round", "value", "convert", "data", "updateRateDetails", "fromCurrency", "toCurrency", "rate", "switchCurrencies", "switchAmounts", "fromAmount", "toAmount", "updateAmounts", "reversed", "fromCurrencyElementId", "toCurrencyElementId", "fromAmountElementId", "toAmountElementId", "result", "updateCalculator", "switchCalculator", "init", "calculator", "event", "fromCurrencyHuman", "toCurrencyHuman", "requestUrl", "calculator_default", "calculator_default"]
}
